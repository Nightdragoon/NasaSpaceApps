@{
    ViewData["Title"] = "Create Account";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
@section Styles {
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }

        body {
            background-color: #0B1226;
            background-image: linear-gradient(180deg, #0B1226, #1E3259);
        }
    </style>


}
<!-- Hero de fondo con foto y gradiente -->
<section class="hero-bg d-flex align-items-start align-items-lg-center min-vh-100 py-4 py-lg-0">

  <div class="container position-relative">
    <!-- Encabezado -->
    <div class="row mb-4 mb-lg-5">
      <div class="col-12 d-flex align-items-center gap-3">
        <img src="~/helio_logo.png"
             alt="Logo"
             class="brand-logo img-fluid" />
        <h1 class="create-title m-0 text-white">Create Account</h1>
      </div>
    </div>

    <!-- Contenido: columna izquierda (form) -->
    <div class="row justify-content-start">
      <div class="col-12 col-md-10 col-lg-7 col-xl-6">
          <div class="card-body p-4">

            <!-- Nombre -->
            <div class="mb-3">
              <label for="firstName" class="form-label fw-normal">First name</label>
              <input id="firstName" name="FirstName" type="text"
                     class="form-control form-control-ux"
                     placeholder="John" required>
            </div>


            <!-- Password -->
            <div class="mb-3">
              <label for="password" class="form-label fw-normal">Password</label>
              <input id="password" name="Password" type="password"
                     class="form-control form-control-ux"
                     placeholder="••••••••" required>
            </div>

           

            <!-- Botón -->
            <div class="d-grid">
              <button type="submit" id="submit" class="btn btn-dark btn-ux">Create</button>
            </div>

            <!-- Link -->
            <div class="mt-3">
              <a href="/Account/ForgotPassword" class="text-decoration-underline link-ux">Forgot password?</a>
            </div>

          </div>
      </div>
    </div>
  </div>
</section>
@section Scripts{
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.js"></script>

    <!-- Controlador -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
        const loginurl = '@Url.Action("login")';
    </script>
    <script>
        $("#submit").on("click" , async function(){
            let user = $("#firstName").val();
            let contra = $("#password").val();
            console.log(user);
            console.log(contra);
            let res = await fetch("http://127.0.0.1:8000/registeruser" , {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    'accept' : 'application/json'
                },
                body: JSON.stringify({
                    contrasena: contra,
                    usuario: user
                })
            });
            let json = await res.json();
            window.location = loginurl;
            


        });
    </script>

}